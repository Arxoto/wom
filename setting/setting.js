const mainInfo=document.createElement("div");document.body.appendChild(mainInfo);const wrapper=document.createElement("div");document.body.appendChild(wrapper);let keys=[];chrome.storage.local.get(null,result=>{for(const key in result){if(Object.hasOwnProperty.call(result,key)){if(["mainWinId","inkey"].includes(key)){continue}if(key==="mainInfo"){try{let hh=document.createElement("h1");hh.textContent=key;mainInfo.appendChild(hh);const value=result[key];let text=document.createElement("pre");text.innerText=JSON.stringify(value,null,4);mainInfo.appendChild(text);mainInfo.appendChild(document.createElement("hr"))}catch(error){console.log(error)}continue}let hh=document.createElement("h1");hh.textContent=key;wrapper.appendChild(hh);keys.push(key);const value=result[key];let text=document.createElement("textarea");text.id=key;text.value=value;wrapper.appendChild(text);wrapper.appendChild(document.createElement("hr"))}}});document.getElementById("save").onclick=()=>{let result={};keys.forEach(key=>{result[key]=document.getElementById(key).value});chrome.storage.local.set(result,()=>{window.close()})};